<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Portfolio Elytra</title>
    <link rel="stylesheet" href="./styles.css" />
    <style>
      /* Loading Screen */
      .loading-screen {
        position: fixed;
        inset: 0;
        background: #000;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        z-index: 99999;
        transition: opacity 0.8s ease, visibility 0.8s ease;
      }

      .loading-screen.hidden {
        opacity: 0;
        visibility: hidden;
        pointer-events: none;
      }

      /* Textes avec animations de fade */
      .loading-text {
        position: absolute;
        font-size: 20px;
        font-weight: 300;
        letter-spacing: 0.15em;
        text-transform: uppercase;
        color: #fff;
        font-family: 'Outfit', sans-serif;
        opacity: 0;
        animation-duration: 5s;
        animation-timing-function: ease-in-out;
        animation-fill-mode: forwards;
      }

      .loading-text.elytra {
        animation-name: fadeInOut1;
      }

      .loading-text.creative {
        animation-name: fadeInOut2;
      }

      @keyframes fadeInOut1 {
        0% { opacity: 0; transform: translateX(-20px); }
        10% { opacity: 1; transform: translateX(0); }
        40% { opacity: 1; transform: translateX(0); }
        50% { opacity: 0; transform: translateX(20px); }
        100% { opacity: 0; transform: translateX(20px); }
      }

      @keyframes fadeInOut2 {
        0% { opacity: 0; transform: translateX(-20px); }
        50% { opacity: 0; transform: translateX(-20px); }
        60% { opacity: 1; transform: translateX(0); }
        90% { opacity: 1; transform: translateX(0); }
        100% { opacity: 0; transform: translateX(20px); }
      }

      /* Responsive */
      @media (max-width: 640px) {
        .loading-text {
          font-size: 18px;
        }
      }

      /* Navbar cach√©e pendant le loading */
      .nav-wrap {
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.8s ease 0.3s, visibility 0.8s ease 0.3s;
      }

      .nav-wrap.visible {
        opacity: 1;
        visibility: visible;
      }
    </style>
  </head>
  <body>

    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
      <div class="loading-text elytra">ELYTRA STUDIO</div>
      <div class="loading-text creative">CREATIVE STUDIO DESIGN</div>
    </div>

    <nav class="nav-wrap" id="navbar">
      <ul class="nav">
        <li><a class="tab active" href="https://bensimhonenb-creator.github.io/Elytra-Portfolio/">Portfolio</a></li>
        <li><a class="tab" href="https://portfolio-elytra.webflow.io/a-propos">About</a></li>
        <li><a class="tab" href="#careers">Contact</a></li>
      </ul>
    </nav>

    <section id="gallery">
      <div class="vignette-overlay"></div>
    </section>

    <!-- üé¨ Overlay de transition -->
    <div class="page-transition-overlay">
      <div class="transition-loader">Chargement...</div>
    </div>

    <script>
      // V√©rifier si c'est la premi√®re visite de la session
      const hasVisited = sessionStorage.getItem('hasVisitedGallery');
      const loadingScreen = document.getElementById('loadingScreen');
      const navbar = document.getElementById('navbar');
      
      if (hasVisited) {
        // Si d√©j√† visit√© : masquer imm√©diatement le loading et afficher la navbar
        loadingScreen.classList.add('hidden');
        navbar.classList.add('visible');
        console.log('‚úÖ Returning visitor - skipping loading screen');
      } else {
        // Premi√®re visite : afficher le loading screen
        console.log('üé¨ First visit - showing loading screen');
        
        setTimeout(() => {
          loadingScreen.classList.add('hidden');
          navbar.classList.add('visible');
          // Marquer comme visit√© dans la session
          sessionStorage.setItem('hasVisitedGallery', 'true');
          console.log('‚úÖ Loading complete!');
        }, 5000);
      }
    </script>

    <script type="module" src="./script.js"></script>
  </body>
</html>